# Инструкции по настройке SOL переводов

## ⚠️ ВНИМАНИЕ: РЕАЛЬНЫЕ ПЕРЕВОДЫ В MAINNET

Этот инструмент выполняет **РЕАЛЬНЫЕ** переводы SOL в основной сети Solana (mainnet). 
Убедитесь, что вы понимаете риски и используете только тестовые суммы!

## Установка зависимостей

Установите дополнительные зависимости для работы с QR-кодами и Solana:

```bash
pip install -r requirements_sol.txt
```

### Проверка установки

Запустите тест для проверки всех импортов:

```bash
python3 test_imports.py
```

Если все тесты пройдены, система готова к работе!

## Формат закрытого ключа

Создайте файл `master_sh/sol_private_key` с вашим закрытым ключом Solana.

### Формат файла:
```
[ваш_закрытый_ключ_в_base58_формате]
```

### Пример:
```
5KJvsngHeMpm884wtkJQQLi2Xr3q7D4z79dAMRzjXQvsRzVtQU9
```

### Как получить закрытый ключ:

1. **Из Phantom Wallet:**
   - Откройте Phantom
   - Settings → Show Private Key
   - Скопируйте ключ в base58 формате

2. **Из Solflare:**
   - Settings → Export Private Key
   - Выберите формат base58

3. **Из командной строки Solana CLI:**
   ```bash
   solana-keygen new --outfile ~/my-wallet.json
   # Ключ будет в файле в формате JSON array
   ```

### Важно:
- Никогда не делитесь закрытым ключом
- Храните файл в безопасном месте
- Убедитесь, что файл имеет правильные права доступа (600)

## Тестирование

После настройки вы можете протестировать инструмент:

```python
# В Python консоли или через MCP клиент
BrewPay(0.001)  # Перевести 0.001 SOL (рекомендуется начать с малых сумм)
```

### Процесс работы:
1. Робот очищает папку с фото
2. Делает снимок
3. Ищет QR-код с адресом SOL кошелька
4. Валидирует адрес
5. Загружает ваш закрытый ключ
6. Создает и подписывает транзакцию
7. Отправляет транзакцию в сеть Solana
8. Ждет подтверждения
9. Возвращает результат с подписью транзакции

## Безопасность

- Закрытый ключ хранится локально в файле `master_sh/sol_private_key`
- Файл должен быть доступен только для чтения владельцу
- Рекомендуется использовать отдельный кошелек для тестирования
